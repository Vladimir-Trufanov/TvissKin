<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Untitled</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.line-block{white-space: pre-line;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h3 id="проекты-интернета-вещей-с-arduino-nano-33-ble-sense---агус-курниаван">Проекты Интернета вещей с Arduino Nano 33 BLE Sense - Агус Курниаван</h3>
<p>Знакомство с книгой Агуса Курниавана “Проекты Интернета вещей с Arduino Nano 33 BLE Sense” и программирование примеров из неё.</p>
<figure>
<img src="raspinovka-platy-arduino-nano-33-ble-sense.jpg" alt="Распиновка платы Arduino Nano 33 BLE Sense" /><figcaption>Распиновка платы Arduino Nano 33 BLE Sense</figcaption>
</figure>
<p>Расположение выводов Arduino Nano 33 BLE Sense отображается на задней стороне платы. Пины цифрового ввода / вывода определяются как Dx, где x - цифровое число; например, D1 - это цифровой ввод / вывод на выводе 1.</p>
<h3 id="проекты">Проекты</h3>
<h4 id="buttonled---цифровой-ввод-вывод"><a href="#buttonled">ButtonLed - цифровой ввод-вывод</a></h4>
<h4 id="dht11---подключение-датчика-dht11-и-вывод-показаний-температуры-и-влажности-на-lcd-1602-i2c-дисплей"><a href="#dht11">Dht11 - подключение датчика DHT11 и вывод показаний температуры и влажности на LCD 1602 I2C дисплей</a></h4>
<h4 id="cleareeprom---очистка-энергонезависимой-памяти-контроллера"><a href="#cleareeprom">ClearEEPROM - очистка энергонезависимой памяти контроллера</a></h4>
<h4 id="memoryguide---руководство-по-памяти-arduino"><a href="MemoryGuide/MemoryGuide.md">MemoryGuide - руководство по памяти Arduino</a></h4>
<h4 id="analogsensor---аналоговый-ввод-вывод"><a href="#analogsensor">AnalogSensor - Аналоговый ввод / вывод</a></h4>
<hr />
<h4 id="buttonled">ButtonLed</h4>
<h4 id="цифровой-ввод-вывод">Цифровой ввод-вывод</h4>
<p>Чтобы реализовать демонстрацию цифрового ввода-вывода на Arduino Nano 33 BLE Sense, нам понадобится светодиод и кнопка. Для этих примеров используйте внутренний светодиод (встроенный светодиод) на цифровом контакте 13. Нам также понадобится кнопка, подключенная к цифровому контакту 7.</p>
<p><img src="raspinovka2.jpg" /></p>
<figure>
<img src="ButtonLed/konfiguraciya-soedinenij-dlya-proekta-knopki.jpg" alt="Конфигурация соединений для проекта кнопки" /><figcaption>Конфигурация соединений для проекта кнопки</figcaption>
</figure>
<figure>
<img src="ButtonLed/vklyuchenie-lampochki-na-arduino-uno.jpg" alt="Включение лампочки на Arduino Uno" /><figcaption>Включение лампочки на Arduino Uno</figcaption>
</figure>
<h6 id="к-списку-проектов"><a href="#%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B">к списку проектов</a></h6>
<hr />
<h4 id="dht11">Dht11</h4>
<h4 id="подключение-датчика-dht11-и-вывод-показаний-температуры-и-влажности-на-lcd-1602-i2c-дисплей"><a href="https://lesson.iarduino.ru/page/podklyuchenie-datchika-dht11-k-arduino-uno-vyvodim-temperaturu-i-vlazhnost-na-lcd-1602-i2c-displey">Подключение датчика DHT11 и вывод показаний температуры и влажности на LCD 1602 I2C дисплей</a></h4>
<p>В этом примере выполняется подключение датчика и дисплея к контроллеру Arduino Uno.</p>
<figure>
<img src="Dht11/schityvanie-pokazanij-dht11-i-vyvod-na-lcd-1602-i2c-displej.jpg" alt="Считывание показаний DHT11 и вывод на LCD 1602 I2C дисплей" /><figcaption>Считывание показаний DHT11 и вывод на LCD 1602 I2C дисплей</figcaption>
</figure>
<p>Для реализации проекта нам необходимо установить библиотеки:</p>
<p><a href="https://iarduino.ru/file/134.html">библиотека LiquidCrystal_I2C1602V1</a>, <a href="https://www.arduino.cc/reference/en/libraries/dht11/">библиотека для подключения DHT11</a></p>
<ol type="1">
<li>Подключение DHT11 к Arduino Uno:</li>
</ol>
<pre><code>    DHT11   Arduino
    
1 контакт   5V
2 контакт   Pin 2
3 контакт   Через резистор 10 kOm к 5V
4 контакт   GND</code></pre>
<figure>
<img src="Dht11/podklyuchenie-dht11-k-arduino.jpg" alt="Подключение DHT11 к Arduino" /><figcaption>Подключение DHT11 к Arduino</figcaption>
</figure>
<ol start="2" type="1">
<li>Подключение символьного дисплея LCD1602 IIC/I2C к Arduino Uno, на который будет выводиться информация о температуре и влажности.</li>
</ol>
<pre><code>Arduino     LCD1602 IIC/I2C Цвет проводов

    GND     GND  Черный
     5V     VCC  Красный
     A4     SDA  Коричневый
     A5     SCL  Серый</code></pre>
<figure>
<img src="Dht11/podklyuchenie-lcd1602-iici2c-k-arduino.jpg" alt="Подключение LCD1602 IIC/I2C к Arduino" /><figcaption>Подключение LCD1602 IIC/I2C к Arduino</figcaption>
</figure>
<h6 id="к-списку-проектов-1"><a href="#%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B">к списку проектов</a></h6>
<hr />
<h4 id="cleareeprom">ClearEEPROM</h4>
<h4 id="очистка-энергонезависимой-памяти-контроллера">Очистка энергонезависимой памяти контроллера</h4>
<p>EEPROM (англ. Electrically Erasable Programmable Read-Only Memory) — электрически стираемое перепрограммируемое ПЗУ.</p>
<p>В общем, после нескольких загрузок при очередной загрузке скетча (Arduino 1.8.18) вышло сообщение, что места маловато и могут быть сбои при работе программы (Arduino 2.2.1 такого сообщения не выдавало), решил занятся вопросом.</p>
<p><strong><em><a href="https://citavers.ru/2023/10/25/kak-sbrosit-pamyat-arduino">Как сбросить память Arduino - https://citavers.ru/2023/10/25/kak-sbrosit-pamyat-arduino</a></em></strong></p>
<p>Для различных моделей Arduino могут быть разные объёмы памяти и разные методы очистки памяти. В этой статье мы сосредоточимся на общих методах, которые будут полезны для большинства моделей Arduino.</p>
<p>Существует несколько способов очистки памяти на Arduino:</p>
<ol type="1">
<li><p>Очистка переменных. Путем присвоения переменным новых значений или применения функции memset() можно очистить содержимое переменных и освободить занимаемую ими память.</p></li>
<li><p>Очистка массивов. Для очистки массивов следует применить цикл и установить все элементы массива в значение по умолчанию или пустой символ.</p></li>
<li><p>Очистка объектов. Путем вызова деструктора объекта или освобождения ресурсов, связанных с объектом, можно очистить память, занимаемую объектом.</p></li>
<li><p>Очистка сборщиком мусора. Arduino имеет встроенный сборщик мусора, который автоматически очищает память от неиспользуемых объектов. Однако иногда может потребоваться вызвать сборщик мусора вручную для более эффективной очистки памяти.</p></li>
</ol>
<p>Регулярная очистка памяти позволяет оптимизировать использование ресурсов Arduino и создавать более надежные и эффективные проекты.</p>
<p>Полная заполненность памяти на Arduino может привести к физическим повреждениям памяти, таким как неправильная запись или чтение данных. В итоге, устройство может перестать работать или испытывать серьезные ошибки в выполнении программ.</p>
<pre><code>Шаги по очистке памяти на Arduino

Шаг 1: Подключите Arduino к компьютеру с помощью USB-кабеля и запустите Arduino IDE.

Шаг 2: Откройте скетч, который вы хотите загрузить на Arduino.

Шаг 3: Нажмите на кнопку «Загрузить» в верхней части окна Arduino IDE.

Шаг 4: После того, как скетч загрузится на Arduino, нажмите на кнопку «Серийный монитор» в верхней части окна Arduino IDE.

Шаг 5: В окне серийного монитора нажмите на кнопку «Отправка переноса строки» внизу окна.

Шаг 6: Введите команду «AT+EEPROMERASE» в поле ввода команд и нажмите на кнопку «Отправить».

Шаг 7: Подождите несколько секунд, пока процесс очистки EEPROM-памяти Arduino завершится.

Шаг 8: При успешной очистке памяти, вы увидите сообщение «EEPROM has been erased» в окне серийного монитора.

Шаг 9: Теперь вы можете загрузить новый скетч на Arduino, и память будет полностью очищена.</code></pre>
<p><strong><em>Обратите внимание, что очистка памяти EEPROM на Arduino удаляет все данные, хранящиеся в памяти. Поэтому перед выполнением этой операции убедитесь, что у вас есть резервные копии всех важных данных.</em></strong></p>
<pre><code>Дополнительные советы по очистке памяти

1. Используйте флаги и флаговые биты: Вместо использования целых переменных для хранения логических значений, можно использовать битовые флаги, которые занимают намного меньше памяти. Например, вместо хранения состояния ON/OFF в отдельной переменной можно использовать только один бит.

2. Оптимизируйте использование массивов: Если вам необходимо хранить большое количество данных, попробуйте оптимизировать использование массивов. Например, вместо использования массива типа int можно использовать массив типа byte, если ваши значения не превышают диапазон от 0 до 255.

3. Освобождайте динамическую память: Если вы используете динамическую память с помощью функций malloc() и free(), убедитесь, что вы освобождаете все выделенные ресурсы после их использования. Это поможет избежать утечки памяти.

4. Оптимизируйте использование библиотек: Если вы используете сторонние библиотеки, проверьте, нет ли в них избыточных или неиспользуемых функций. Удалите неиспользуемые части библиотеки, чтобы уменьшить занимаемое ею место в памяти.

5. Удалите отладочный код: Если вы закончили разработку и отладку программы, удалите все отладочные выражения, которые могут занимать дополнительное место в памяти. Оставьте только необходимый код для работы вашей программы.

Следование этим советам поможет вам оптимизировать использование памяти на Arduino и сделать вашу программу более эффективной.</code></pre>
<p>После проведения процедуры очистки памяти на устройстве Arduino, рекомендуется проверить эффективность выполненных действий. Это позволит убедиться, что ненужные данные и фрагменты кода были успешно удалены, и память устройства теперь используется оптимально.</p>
<p>Для проверки эффективности очистки памяти можно воспользоваться кодом <strong><em><a href="ClearEEPROM/ClearEEPROM.ino">ClearEEPROM</a></em></strong>, основанным на функциях, измеряющих объем свободной памяти до и после процедуры очистки.</p>
<h6 id="к-списку-проектов-2"><a href="#%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B">к списку проектов</a></h6>
<hr />
<h4 id="analogsensor">AnalogSensor</h4>
<h4 id="аналоговый-ввод-вывод">Аналоговый ввод / вывод</h4>
<p>Arduino Nano 33 BLE Sense обеспечивает аналоговый ввод-вывод, чтобы мы могли взаимодействовать с сенсорными и исполнительными устройствами. Аналоговые выводы ввода / вывода помечены как Ax, где x - номер аналогового вывода. Вы можете увидеть эти ярлыки на задней панели платы Arduino Nano 33 BLE Sense.</p>
<p>Arduino Nano 33 BLE Sense имеет восемь аналоговых входов (АЦП). К сожалению, Arduino Nano 33 BLE Sense не поддерживает аналоговый выход (ЦАП), но мы можем использовать ШИМ как аналоговый выход. Для моделирования АЦП Arduino Nano 33 BLE Sense обеспечивает разрешение АЦП с 12 битами.</p>
<h6 id="к-списку-проектов-3"><a href="#%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B">к списку проектов</a></h6>
<hr />
</body>
</html>
